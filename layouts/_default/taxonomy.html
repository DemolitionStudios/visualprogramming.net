{{ define "main" }}
<main id="Blog">
    <div class="container list">
        <div class="row justify-content-between">
            <div class="col-8">
                <h1 class="mb-5">{{ .Title }}</h1>
                <div class="content">
                      {{ range .Paginator.Pages }}
                        {{ .Render "summary"}}
                      {{ end }}
                    
                    {{ partial "pagination.html" . }}
                </div>
            </div>
            <div class="col-3">
                <div class="sidebar sticky-top">
                    <hr class="d-md-block d-lg-none mb-5 thin">
                    {{ if ne .Page.Title "Posts"}}
                        <a href="/blog/" class="btn btn-secondary btn-lg mb-5">{{ .Site.Params.Blog.ReadMore}}</a>
                    {{ end }}
                    <div class="list">
                        <h4>All Recent posts:</h4>
                        <ul class="list-group list-group-flush mb-2">
                            {{ range ( first 5 ( where .Site.RegularPages "Type" "blog").ByDate.Reverse ) }}
                            <li class="list-group-item"><a href="{{ .Permalink }}">{{ .Title }}</a></li>
                            {{end}}
                        </ul>
                    </div>
                    {{ partial "blog/sidebar.html" . }}
                </div>
            </div>
        </div>
    </div>
</main>
{{ end }}

